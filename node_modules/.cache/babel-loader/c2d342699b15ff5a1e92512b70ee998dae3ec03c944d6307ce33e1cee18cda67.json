{"ast":null,"code":"import React,{useState}from\"react\";import LoginScreen from\"./components/LoginScreen\";import RegisterScreen from\"./components/RegisterScreen\";import ChatScreen from\"./components/ChatScreen\";import UsersList from\"./components/UsersList\";import{AuthContext}from'./contexts/AuthContext';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import AnalystDashboard from'./pages/AnalystDashboard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[user,setUser]=useState(null);const[token,setToken]=useState(null);const[showRegister,setShowRegister]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const authContextValue={user,token,isAdmin,setUser,setToken,setIsAdmin};function HomeView(){if(!user){return/*#__PURE__*/_jsx(AuthContext.Provider,{value:authContextValue,children:/*#__PURE__*/_jsxs(\"div\",{children:[showRegister?/*#__PURE__*/_jsx(RegisterScreen,{onRegistered:()=>setShowRegister(false)}):/*#__PURE__*/_jsx(LoginScreen,{onLogin:(email,password,tipo,tkn)=>{setUser({email,password});setIsAdmin(tipo==='admin');setToken(tkn||null);},onRegister:()=>setShowRegister(true)}),/*#__PURE__*/_jsx(UsersList,{})]})});}// Se admin logado, mostra painel admin\nif(isAdmin){const AdminUsers=require('./components/AdminUsers').default;const AdminDepartamentos=require('./components/AdminDepartamentos').default;return/*#__PURE__*/_jsx(AuthContext.Provider,{value:authContextValue,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',alignItems:'center',padding:'16px 32px 0 0'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setUser(null);setIsAdmin(false);setToken(null);},style:{fontSize:18,padding:'8px 20px',borderRadius:6,background:'#e0e7ff',color:'#334155',border:'none',fontWeight:'bold',boxShadow:'0 2px 8px #cbd5e1',cursor:'pointer'},children:\"Sair\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:32,padding:32},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:28,marginBottom:16},children:\"Administra\\xE7\\xE3o de Usu\\xE1rios\"}),/*#__PURE__*/_jsx(AdminUsers,{user:user,isAdmin:isAdmin})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:28,marginBottom:16},children:\"Administra\\xE7\\xE3o de Departamentos\"}),/*#__PURE__*/_jsx(AdminDepartamentos,{})]})]})]})});}// Usuário comum logado\nreturn/*#__PURE__*/_jsx(AuthContext.Provider,{value:authContextValue,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'flex-end',alignItems:'center',padding:'16px 32px 0 0'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setUser(null);setToken(null);},style:{fontSize:18,padding:'8px 20px',borderRadius:6,background:'#e0e7ff',color:'#334155',border:'none',fontWeight:'bold',boxShadow:'0 2px 8px #cbd5e1',cursor:'pointer'},children:\"Sair\"})}),/*#__PURE__*/_jsx(ChatScreen,{user:user}),/*#__PURE__*/_jsx(UsersList,{})]})});}function AnalystRoute(){if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});if(!isAdmin)return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});return/*#__PURE__*/_jsx(AuthContext.Provider,{value:authContextValue,children:/*#__PURE__*/_jsx(AnalystDashboard,{me:user})});}return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeView,{})}),/*#__PURE__*/_jsx(Route,{path:\"/analyst\",element:/*#__PURE__*/_jsx(AnalystRoute,{})})]})});}// Formulário de login admin","map":{"version":3,"names":["React","useState","LoginScreen","RegisterScreen","ChatScreen","UsersList","AuthContext","BrowserRouter","Routes","Route","Navigate","AnalystDashboard","jsx","_jsx","jsxs","_jsxs","App","user","setUser","token","setToken","showRegister","setShowRegister","isAdmin","setIsAdmin","authContextValue","HomeView","Provider","value","children","onRegistered","onLogin","email","password","tipo","tkn","onRegister","AdminUsers","require","default","AdminDepartamentos","style","display","justifyContent","alignItems","padding","onClick","fontSize","borderRadius","background","color","border","fontWeight","boxShadow","cursor","gap","flex","marginBottom","AnalystRoute","to","replace","me","path","element"],"sources":["C:/Users/alex/Documents/Python/CSConnect/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport LoginScreen from \"./components/LoginScreen\";\r\nimport RegisterScreen from \"./components/RegisterScreen\";\r\nimport ChatScreen from \"./components/ChatScreen\";\r\nimport UsersList from \"./components/UsersList\";\r\nimport { AuthContext } from './contexts/AuthContext';\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\r\nimport AnalystDashboard from './pages/AnalystDashboard';\r\n\r\nexport default function App() {\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  const authContextValue = { user, token, isAdmin, setUser, setToken, setIsAdmin };\r\n\r\n  function HomeView() {\r\n    if (!user) {\r\n      return (\r\n        <AuthContext.Provider value={authContextValue}>\r\n          <div>\r\n            {showRegister\r\n              ? <RegisterScreen onRegistered={() => setShowRegister(false)} />\r\n              : <LoginScreen onLogin={(email, password, tipo, tkn) => {\r\n                  setUser({ email, password });\r\n                  setIsAdmin(tipo === 'admin');\r\n                  setToken(tkn || null);\r\n                }} onRegister={() => setShowRegister(true)} />}\r\n            <UsersList />\r\n          </div>\r\n        </AuthContext.Provider>\r\n      );\r\n    }\r\n\r\n    // Se admin logado, mostra painel admin\r\n    if (isAdmin) {\r\n      const AdminUsers = require('./components/AdminUsers').default;\r\n      const AdminDepartamentos = require('./components/AdminDepartamentos').default;\r\n      return (\r\n        <AuthContext.Provider value={authContextValue}>\r\n          <div>\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center', padding: '16px 32px 0 0' }}>\r\n              <button\r\n                onClick={() => { setUser(null); setIsAdmin(false); setToken(null); }}\r\n                style={{\r\n                  fontSize: 18,\r\n                  padding: '8px 20px',\r\n                  borderRadius: 6,\r\n                  background: '#e0e7ff',\r\n                  color: '#334155',\r\n                  border: 'none',\r\n                  fontWeight: 'bold',\r\n                  boxShadow: '0 2px 8px #cbd5e1',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >Sair</button>\r\n            </div>\r\n            {/* Painel administrativo */}\r\n            <div style={{ display: 'flex', gap: 32, padding: 32 }}>\r\n              <div style={{ flex: 1 }}>\r\n                <h2 style={{ fontSize: 28, marginBottom: 16 }}>Administração de Usuários</h2>\r\n                <AdminUsers user={user} isAdmin={isAdmin} />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <h2 style={{ fontSize: 28, marginBottom: 16 }}>Administração de Departamentos</h2>\r\n                <AdminDepartamentos />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </AuthContext.Provider>\r\n      );\r\n    }\r\n\r\n    // Usuário comum logado\r\n    return (\r\n      <AuthContext.Provider value={authContextValue}>\r\n        <div>\r\n          <div style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center', padding: '16px 32px 0 0' }}>\r\n            <button\r\n              onClick={() => { setUser(null); setToken(null); }}\r\n              style={{\r\n                fontSize: 18,\r\n                padding: '8px 20px',\r\n                borderRadius: 6,\r\n                background: '#e0e7ff',\r\n                color: '#334155',\r\n                border: 'none',\r\n                fontWeight: 'bold',\r\n                boxShadow: '0 2px 8px #cbd5e1',\r\n                cursor: 'pointer'\r\n              }}\r\n            >Sair</button>\r\n          </div>\r\n          <ChatScreen user={user} />\r\n          <UsersList />\r\n        </div>\r\n      </AuthContext.Provider>\r\n    );\r\n  }\r\n\r\n  function AnalystRoute() {\r\n    if (!user) return <Navigate to=\"/\" replace />;\r\n    if (!isAdmin) return <Navigate to=\"/\" replace />;\r\n    return (\r\n      <AuthContext.Provider value={authContextValue}>\r\n        <AnalystDashboard me={user} />\r\n      </AuthContext.Provider>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<HomeView />} />\r\n        <Route path=\"/analyst\" element={<AnalystRoute />} />\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\n// Formulário de login admin\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}